<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Artifex" name="author" />
<meta content="PyMuPDF is a high-performance Python library for data extraction, analysis, conversion &amp; manipulation of PDF (and other) documents." name="description" />
<meta content="PDF Text Extraction, PDF Image Extraction, PDF Conversion, PDF Tables, PDF Splitting, PDF Creation, Pyodide, PyScript" name="keywords" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JZTN4VTL9M"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-JZTN4VTL9M');
    </script>
    <link rel="author" title="About these documents" href="about.html" /><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Archive" href="archive-class.html" /><link rel="prev" title="Classes" href="classes.html" />

    <link rel="shortcut icon" href="_static/PyMuPDF.ico"/><!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Annot - PyMuPDF 1.25.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=74643500" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">PyMuPDF 1.25.3 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/sidebar-logo-dark.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/sidebar-logo-light.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PyMuPDF 1.25.3 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">Features Comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#performance">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#license-and-copyright">License and Copyright</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymupdf4llm/index.html">PyMuPDF4LLM</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymupdf-pro.html">PyMuPDF Pro</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="the-basics.html">The Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="rag.html">PyMuPDF, LLM &amp; RAG</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How to Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="how-to-open-a-file.html">Opening Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-text.html">Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-images.html">Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-annotations.html">Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-drawing-and-graphics.html">Drawing and Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-stories.html">Stories</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-journalling.html">Journalling</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-multiprocessing.html">Multiprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-ocr.html">OCR - Optical Character Recognition</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-optional-content.html">Optional Content Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-low-level-interfaces.html">Low-Level Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-common-issues-and-their-solutions.html">Common Issues and their Solutions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="module.html">Command line interface</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="classes.html">Classes</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Classes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Annot</a></li>
<li class="toctree-l2"><a class="reference internal" href="archive-class.html">Archive</a></li>
<li class="toctree-l2"><a class="reference internal" href="colorspace.html">Colorspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="displaylist.html">DisplayList</a></li>
<li class="toctree-l2"><a class="reference internal" href="document.html">Document</a></li>
<li class="toctree-l2"><a class="reference internal" href="document-writer-class.html">DocumentWriter</a></li>
<li class="toctree-l2"><a class="reference internal" href="font.html">Font</a></li>
<li class="toctree-l2"><a class="reference internal" href="identity.html">Identity</a></li>
<li class="toctree-l2"><a class="reference internal" href="irect.html">IRect</a></li>
<li class="toctree-l2"><a class="reference internal" href="link.html">Link</a></li>
<li class="toctree-l2"><a class="reference internal" href="linkdest.html">linkDest</a></li>
<li class="toctree-l2"><a class="reference internal" href="matrix.html">Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="outline.html">Outline</a></li>
<li class="toctree-l2"><a class="reference internal" href="page.html">Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="pixmap.html">Pixmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="point.html">Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="quad.html">Quad</a></li>
<li class="toctree-l2"><a class="reference internal" href="rect.html">Rect</a></li>
<li class="toctree-l2"><a class="reference internal" href="shape.html">Shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="story-class.html">Story</a></li>
<li class="toctree-l2"><a class="reference internal" href="textpage.html">TextPage</a></li>
<li class="toctree-l2"><a class="reference internal" href="textwriter.html">TextWriter</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="widget.html">Widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="xml-class.html">Xml</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="algebra.html">Operator Algebra for Geometry Objects</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="lowlevel.html">Low Level Functions and Classes</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Low Level Functions and Classes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="device.html">Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="coop_low.html">Working together: DisplayList and TextPage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="vars.html">Constants and Enumerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="colors.html">Color Database</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="app1.html">Appendix 1: Details on Text Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="app2.html">Appendix 2: Considerations on Embedded Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="app3.html">Appendix 3: Assorted Technical Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="app4.html">Appendix 4: Performance Comparison Methodology</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="znames.html">Deprecated Names</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/annot.rst" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <style>

    #languageToggle {
        width:25%;
        margin:8px 10px 0;
    }

    #button-select-en {
        padding: 5px 10px;
        background-color: #fff;
        border: 1px solid #000;
        border-radius: 10px 0 0 10px;
        font-size: 14px;
    }

    #button-select-ja {
        padding: 5px 10px;
        background-color: #fff;
        border: 1px solid #000;
        border-radius: 0px 10px 10px 0;
        border-left: 0;
        font-size: 14px;
    }

    #button-select-en , #button-select-ja, #button-select-en:hover , #button-select-ja:hover  {
        color: #fff;
        text-decoration: none;
    }

    /* small screens */
    @media all and (max-width : 768px)  {
        #languageToggle {
            width:50%;
        }
    }

    @media all and (max-width : 400px)  {
        #languageToggle {
            width:70%;
        }
    }

    @media all and (max-width : 375px)  {
        #button-select-en , #button-select-ja {
            font-size: 11px;
        }
    }

</style>

<div style="display:flex;justify-content:space-between;align-items: center;">
    <form class="sidebar-search-container top" method="get" action="search.html" role="search" style="width:75%">
      <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
      <input type="hidden" name="check_keywords" value="yes">
      <input type="hidden" name="area" value="default">
    </form>
    <div id="languageToggle"><span><a id="button-select-en" href="javaScript:changeLanguage('en')">English</a></span><span><a id="button-select-ja" href="javaScript:changeLanguage('ja')">日本語</a></span></div>
</div>

<div style="display:flex;justify-content:space-between;align-items:center;margin-top:20px;">
    <div class="discordLink" style="display:flex;align-items:center;margin-top: -5px;">
        <a href="https://discord.gg/TSpYGBW4eq" id="findOnDiscord" target=_blank>Find <b>#pymupdf</b> on <b>Discord</b></a>
        <a href="https://discord.gg/TSpYGBW4eq" target=_blank>
            <div style="width:30px;height:30px;margin-left:5px;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36">
                    <defs>
                        <style>.discordLogoFill{fill:#5865f2;}</style>
                    </defs>
                    <g id="Discord_Logo" data-name="Discord Logo">
                        <path class="discordLogoFill" d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"/>
                    </g>
                </svg>
            </div>
        </a>
    </div>

    <div class="feedbackLink"><a id="feedbackLinkTop" target=_blank>Do you have any feedback on this page?</b></a></div>
</div>

<script>
    // highlightSelectedLanguage

    if (document.getElementsByTagName('html')[0].getAttribute('lang')=="ja") {
        document.getElementById("button-select-ja").style.backgroundColor = "#ff6600";
        document.getElementById("button-select-en").style.color = "#000";
    } else {
        document.getElementById("button-select-en").style.backgroundColor = "#ff6600";
        document.getElementById("button-select-ja").style.color = "#000";
    }


    var url_string = window.location.href;
    var a = document.getElementById('feedbackLinkTop');
    a.setAttribute("href", "https://artifex.com/contributor/feedback.php?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=header-link&url="+url_string);

    function changeLanguage(lang) {
        var new_url;

        if (lang == "en") {
            new_url = url_string.replace("/ja/", "/en/");
        } else {
            new_url = url_string.replace("/en/", "/ja/");
        }

        window.location.replace(new_url);
    }

</script><section id="annot">
<span id="id1"></span><h1>Annot<a class="headerlink" href="#annot" title="Link to this heading">¶</a></h1>
<p><div style="width:100%; text-align:right"><b>This class is for PDF only.</b></div></p>
<p>Quote from the <a class="reference internal" href="app3.html#adobemanual"><span class="std std-ref">Adobe PDF References</span></a>: “An annotation associates an object such as a note, sound, or movie with a location on a page of a PDF document, or provides a way to interact with the user by means of the mouse and keyboard.”</p>
<p>There is a parent-child relationship between an annotation and its page. If the page object becomes unusable (closed document, any document structure change, etc.), then so does every of its existing annotation objects – an exception is raised saying that the object is “orphaned”, whenever an annotation property or method is accessed.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Attribute</strong></p></th>
<th class="head"><p><strong>Short Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.delete_responses" title="Annot.delete_responses"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.delete_responses()</span></code></a></p></td>
<td><p>delete all responding annotations</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.get_file" title="Annot.get_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.get_file()</span></code></a></p></td>
<td><p>get attached file content</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.get_oc" title="Annot.get_oc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.get_oc()</span></code></a></p></td>
<td><p>get <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> of an <a class="reference internal" href="glossary.html#OCG" title="OCG"><code class="xref py py-data docutils literal notranslate"><span class="pre">OCG</span></code></a> / <a class="reference internal" href="glossary.html#OCMD" title="OCMD"><code class="xref py py-data docutils literal notranslate"><span class="pre">OCMD</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.get_pixmap" title="Annot.get_pixmap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.get_pixmap()</span></code></a></p></td>
<td><p>image of the annotation as a pixmap</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.get_sound" title="Annot.get_sound"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.get_sound()</span></code></a></p></td>
<td><p>get the sound of an audio annotation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.get_text" title="Annot.get_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.get_text()</span></code></a></p></td>
<td><p>extract annotation text</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.get_textbox" title="Annot.get_textbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.get_textbox()</span></code></a></p></td>
<td><p>extract annotation text</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.set_border" title="Annot.set_border"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_border()</span></code></a></p></td>
<td><p>set annotation’s border properties</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.set_blendmode" title="Annot.set_blendmode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_blendmode()</span></code></a></p></td>
<td><p>set annotation’s blend mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.set_colors" title="Annot.set_colors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_colors()</span></code></a></p></td>
<td><p>set annotation’s colors</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.set_flags" title="Annot.set_flags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_flags()</span></code></a></p></td>
<td><p>set annotation’s flags field</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.set_irt_xref" title="Annot.set_irt_xref"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_irt_xref()</span></code></a></p></td>
<td><p>define the annotation to being “In Response To”</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.set_name" title="Annot.set_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_name()</span></code></a></p></td>
<td><p>set annotation’s name field</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.set_oc" title="Annot.set_oc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_oc()</span></code></a></p></td>
<td><p>set <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> to an <a class="reference internal" href="glossary.html#OCG" title="OCG"><code class="xref py py-data docutils literal notranslate"><span class="pre">OCG</span></code></a> / <a class="reference internal" href="glossary.html#OCMD" title="OCMD"><code class="xref py py-data docutils literal notranslate"><span class="pre">OCMD</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.set_opacity" title="Annot.set_opacity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_opacity()</span></code></a></p></td>
<td><p>change transparency</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.set_open" title="Annot.set_open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_open()</span></code></a></p></td>
<td><p>open / close annotation or its Popup</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.set_popup" title="Annot.set_popup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_popup()</span></code></a></p></td>
<td><p>create a Popup for the annotation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.set_rect" title="Annot.set_rect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_rect()</span></code></a></p></td>
<td><p>change annotation rectangle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.set_rotation" title="Annot.set_rotation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_rotation()</span></code></a></p></td>
<td><p>change rotation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.update_file" title="Annot.update_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update_file()</span></code></a></p></td>
<td><p>update attached file content</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update()</span></code></a></p></td>
<td><p>apply accumulated annot changes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.blendmode" title="Annot.blendmode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.blendmode</span></code></a></p></td>
<td><p>annotation BlendMode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.border" title="Annot.border"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.border</span></code></a></p></td>
<td><p>border details</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.colors" title="Annot.colors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.colors</span></code></a></p></td>
<td><p>border / background and fill colors</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.file_info" title="Annot.file_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.file_info</span></code></a></p></td>
<td><p>get attached file information</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.flags" title="Annot.flags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.flags</span></code></a></p></td>
<td><p>annotation flags</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.has_popup" title="Annot.has_popup"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.has_popup</span></code></a></p></td>
<td><p>whether annotation has a Popup</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.irt_xref" title="Annot.irt_xref"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.irt_xref</span></code></a></p></td>
<td><p>annotation to which this one responds</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.info" title="Annot.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.info</span></code></a></p></td>
<td><p>various information</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.is_open" title="Annot.is_open"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.is_open</span></code></a></p></td>
<td><p>whether annotation or its Popup is open</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.line_ends" title="Annot.line_ends"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.line_ends</span></code></a></p></td>
<td><p>start / end appearance of line-type annotations</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.next" title="Annot.next"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.next</span></code></a></p></td>
<td><p>link to the next annotation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.opacity" title="Annot.opacity"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.opacity</span></code></a></p></td>
<td><p>the annot’s transparency</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.parent" title="Annot.parent"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.parent</span></code></a></p></td>
<td><p>page object of the annotation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.popup_rect" title="Annot.popup_rect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.popup_rect</span></code></a></p></td>
<td><p>rectangle of the annotation’s Popup</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.popup_xref" title="Annot.popup_xref"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.popup_xref</span></code></a></p></td>
<td><p>the PDF <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> number of the annotation’s Popup</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.rect" title="Annot.rect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.rect</span></code></a></p></td>
<td><p>rectangle containing the annotation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.type" title="Annot.type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.type</span></code></a></p></td>
<td><p>type of the annotation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Annot.vertices" title="Annot.vertices"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.vertices</span></code></a></p></td>
<td><p>point coordinates of Polygons, PolyLines, etc.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Annot.xref" title="Annot.xref"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.xref</span></code></a></p></td>
<td><p>the PDF <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> number</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Class API</strong></p>
<dl class="py class">
<dt class="sig sig-object py" id="Annot">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Annot</span></span><a class="headerlink" href="#Annot" title="Link to this definition">¶</a></dt>
<dd><dl class="py method" id="index-0">
<dt class="sig sig-object py" id="Annot.get_pixmap">
<span class="sig-name descname"><span class="pre">get_pixmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">pymupdf.Identity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">pymupdf.csRGB</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.get_pixmap" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>Changed in v1.19.2: added support of dpi parameter.</p></li>
</ul>
<p>Creates a pixmap from the annotation as it appears on the page in untransformed coordinates. The pixmap’s <a class="reference internal" href="irect.html#irect"><span class="std std-ref">IRect</span></a> equals <em>Annot.rect.irect</em> (see below). <strong>All parameters are keyword only.</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>matrix_like</em>) – a matrix to be used for image creation. Default is <a class="reference internal" href="identity.html#identity"><span class="std std-ref">Identity</span></a>.</p></li>
<li><p><strong>dpi</strong> (<em>int</em>) – (new in v1.19.2) desired resolution in dots per inch. If not <code class="xref any docutils literal notranslate"><span class="pre">None</span></code>, the matrix parameter is ignored.</p></li>
<li><p><strong>colorspace</strong> (<a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a>) – a colorspace to be used for image creation. Default is <em>pymupdf.csRGB</em>.</p></li>
<li><p><strong>alpha</strong> (<em>bool</em>) – whether to include transparency information. Default is <em>False</em>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="pixmap.html#pixmap"><span class="std std-ref">Pixmap</span></a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If the annotation has just been created or modified, you should <a class="reference internal" href="document.html#Document.reload_page" title="Document.reload_page"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Document.reload_page()</span></code></a> the page first via <code class="xref any docutils literal notranslate"><span class="pre">page</span> <span class="pre">=</span> <span class="pre">doc.reload_page(page)</span></code>.</p></li>
<li><p>The pixmap will have <em>“premultiplied”</em> pixels if <code class="xref any docutils literal notranslate"><span class="pre">alpha=True</span></code>. To learn about some background, e.g. look for “Premultiplied alpha” <a class="reference external" href="https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P">here</a>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method" id="index-1">
<dt class="sig sig-object py" id="Annot.get_text">
<span class="sig-name descname"><span class="pre">get_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.get_text" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in 1.18.0</p></li>
</ul>
<p>Retrieves the content of the annotation in a variety of formats – much like the same method for <a class="reference internal" href="page.html#page"><span class="std std-ref">Page</span></a>.. This currently only delivers relevant data for annotation types ‘FreeText’ and ‘Stamp’. Other types return an empty string (or equivalent objects).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opt</strong> (<em>str</em>) – <p>(positional only) the desired format - one of the following values. Please note that this method works exactly like the same-named method of <a class="reference internal" href="page.html#page"><span class="std std-ref">Page</span></a>.</p>
<ul>
<li><p>”text” – <a class="reference internal" href="textpage.html#TextPage.extractTEXT" title="TextPage.extractTEXT"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractTEXT()</span></code></a>, default</p></li>
<li><p>”blocks” – <a class="reference internal" href="textpage.html#TextPage.extractBLOCKS" title="TextPage.extractBLOCKS"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractBLOCKS()</span></code></a></p></li>
<li><p>”words” – <a class="reference internal" href="textpage.html#TextPage.extractWORDS" title="TextPage.extractWORDS"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractWORDS()</span></code></a></p></li>
<li><p>”html” – <a class="reference internal" href="textpage.html#TextPage.extractHTML" title="TextPage.extractHTML"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractHTML()</span></code></a></p></li>
<li><p>”xhtml” – <a class="reference internal" href="textpage.html#TextPage.extractXHTML" title="TextPage.extractXHTML"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractXHTML()</span></code></a></p></li>
<li><p>”xml” – <a class="reference internal" href="textpage.html#TextPage.extractXML" title="TextPage.extractXML"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractXML()</span></code></a></p></li>
<li><p>”dict” – <a class="reference internal" href="textpage.html#TextPage.extractDICT" title="TextPage.extractDICT"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractDICT()</span></code></a></p></li>
<li><p>”json” – <a class="reference internal" href="textpage.html#TextPage.extractJSON" title="TextPage.extractJSON"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractJSON()</span></code></a></p></li>
<li><p>”rawdict” – <a class="reference internal" href="textpage.html#TextPage.extractRAWDICT" title="TextPage.extractRAWDICT"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextPage.extractRAWDICT()</span></code></a></p></li>
</ul>
</p></li>
<li><p><strong>clip</strong> (<em>rect-like</em>) – (keyword only) restrict the extraction to this area. Should hardly ever be required, defaults to <a class="reference internal" href="#Annot.rect" title="Annot.rect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.rect</span></code></a>.</p></li>
<li><p><strong>flags</strong> (<em>int</em>) – (keyword only) control the amount of data returned. Defaults to simple text extraction.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.get_textbox">
<span class="sig-name descname"><span class="pre">get_textbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rect</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.get_textbox" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in 1.18.0</p></li>
</ul>
<p>Return the annotation text. Mostly (except line breaks) equal to <a class="reference internal" href="#Annot.get_text" title="Annot.get_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.get_text()</span></code></a> with the “text” option.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rect</strong> (<em>rect-like</em>) – the area to consider, defaults to <a class="reference internal" href="#Annot.rect" title="Annot.rect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.rect</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_info">
<span class="sig-name descname"><span class="pre">set_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">creationDate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modDate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_info" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>Changed in version 1.16.10</p></li>
</ul>
<p>Changes annotation properties. These include dates, contents, subject and author (title). Changes for <em>name</em> and <em>id</em> will be ignored. The update happens selectively: To leave a property unchanged, set it to <em>None</em>. To delete existing data, use an empty string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>info</strong> (<em>dict</em>) – a dictionary compatible with the <em>info</em> property (see below). All entries must be strings. If this argument is not a dictionary, the other arguments are used instead – else they are ignored.</p></li>
<li><p><strong>content</strong> (<em>str</em>) – <em>(new in v1.16.10)</em> see description in <a class="reference internal" href="#Annot.info" title="Annot.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a>.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – <em>(new in v1.16.10)</em> see description in <a class="reference internal" href="#Annot.info" title="Annot.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a>.</p></li>
<li><p><strong>creationDate</strong> (<em>str</em>) – <em>(new in v1.16.10)</em> date of annot creation. If given, should be in PDF datetime format.</p></li>
<li><p><strong>modDate</strong> (<em>str</em>) – <em>(new in v1.16.10)</em> date of last modification. If given, should be in PDF datetime format.</p></li>
<li><p><strong>subject</strong> (<em>str</em>) – <em>(new in v1.16.10)</em> see description in <a class="reference internal" href="#Annot.info" title="Annot.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_line_ends">
<span class="sig-name descname"><span class="pre">set_line_ends</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_line_ends" title="Link to this definition">¶</a></dt>
<dd><p>Sets an annotation’s line ending styles. Each of these annotation types is defined by a list of points which are connected by lines. The symbol identified by <em>start</em> is attached to the first point, and <em>end</em> to the last point of this list. For unsupported annotation types, a no-operation with a warning message results.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>While ‘FreeText’, ‘Line’, ‘PolyLine’, and ‘Polygon’ annotations can have these properties, (Py-) MuPDF does not support line ends for ‘FreeText’, because the call-out variant of it is not supported.</p></li>
<li><p><em>(Changed in v1.16.16)</em> Some symbols have an interior area (diamonds, circles, squares, etc.). By default, these areas are filled with the fill color of the annotation. If this is <em>None</em>, then white is chosen. The <em>fill_color</em> argument of <a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update()</span></code></a> can now be used to override this and give line end symbols their own fill color.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>int</em>) – The symbol number for the first point.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – The symbol number for the last point.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_oc">
<span class="sig-name descname"><span class="pre">set_oc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xref</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_oc" title="Link to this definition">¶</a></dt>
<dd><p>Set the annotation’s visibility using PDF optional content mechanisms. This visibility is controlled by the user interface of supporting PDF viewers. It is independent from other attributes like <a class="reference internal" href="#Annot.flags" title="Annot.flags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.flags</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>xref</strong> (<em>int</em>) – the <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> of an optional contents group (OCG or OCMD). Any previous xref will be overwritten. If zero, a previous entry will be removed. An exception occurs if the xref is not zero and does not point to a valid PDF object.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This does <strong>not require executing</strong> <a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update()</span></code></a> to take effect.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.get_oc">
<span class="sig-name descname"><span class="pre">get_oc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Annot.get_oc" title="Link to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> of an optional content object, or zero if there is none.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>zero or the xref of an OCG (or OCMD).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_irt_xref">
<span class="sig-name descname"><span class="pre">set_irt_xref</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xref</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_irt_xref" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in v1.19.3</p></li>
</ul>
<p>Set annotation to be “In Response To” another one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>xref</strong> (<em>int</em>) – <p>The <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> of another annotation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Must refer to an existing annotation on this page. Setting this property requires no subsequent <a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a>.</p>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_open">
<span class="sig-name descname"><span class="pre">set_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_open" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in v1.18.4</p></li>
</ul>
<p>Set the annotation’s Popup annotation to open or closed – <strong>or</strong> the annotation itself, if its type is ‘Text’ (“sticky note”).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>bool</em>) – the desired open state.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_popup">
<span class="sig-name descname"><span class="pre">set_popup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rect</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_popup" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in v1.18.4</p></li>
</ul>
<p>Create a Popup annotation for the annotation and specify its rectangle. If the Popup already exists, only its rectangle is updated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rect</strong> (<em>rect_like</em>) – the desired rectangle.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_opacity">
<span class="sig-name descname"><span class="pre">set_opacity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_opacity" title="Link to this definition">¶</a></dt>
<dd><p>Set the annotation’s transparency. Opacity can also be set in <a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – a float in range <em>[0, 1]</em>. Any value outside is assumed to be 1. E.g. a value of 0.5 sets the transparency to 50%.</p>
</dd>
</dl>
<p>Three overlapping ‘Circle’ annotations with each opacity set to 0.5:</p>
<img alt="_images/img-opacity.jpg" src="_images/img-opacity.jpg" />
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.blendmode">
<span class="sig-name descname"><span class="pre">blendmode</span></span><a class="headerlink" href="#Annot.blendmode" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in v1.18.4</p></li>
</ul>
<p>The annotation’s blend mode. See <a class="reference internal" href="app3.html#adobemanual"><span class="std std-ref">Adobe PDF References</span></a>, page 324 for explanations.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the blend mode or <em>None</em>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_blendmode">
<span class="sig-name descname"><span class="pre">set_blendmode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blendmode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_blendmode" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in v1.16.14</p></li>
</ul>
<p>Set the annotation’s blend mode. See <a class="reference internal" href="app3.html#adobemanual"><span class="std std-ref">Adobe PDF References</span></a>, page 324 for explanations. The blend mode can also be set in <a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blendmode</strong> (<em>str</em>) – set the blend mode. Use <a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update()</span></code></a> to reflect this in the visual appearance. For predefined values see <a class="reference internal" href="vars.html#blendmodes"><span class="std std-ref">PDF Standard Blend Modes</span></a>. Use <code class="xref any docutils literal notranslate"><span class="pre">PDF_BM_Normal</span></code> to <strong>remove</strong> a blend mode.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_name">
<span class="sig-name descname"><span class="pre">set_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_name" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in version 1.16.0</p></li>
</ul>
<p>Change the name field of any annotation type. For ‘FileAttachment’ and ‘Text’ annotations, this is the icon name, for ‘Stamp’ annotations the text in the stamp. The visual result (if any) depends on your PDF viewer. See also <a class="reference internal" href="#mupdficons"><span class="std std-ref">Annotation Icons in MuPDF</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – the new name.</p>
</dd>
</dl>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If you set the name of a ‘Stamp’ annotation, then this will <strong>not change</strong> the rectangle, nor will the text be layouted in any way. If you choose a standard text from <a class="reference internal" href="vars.html#stampicons"><span class="std std-ref">Stamp Annotation Icons</span></a> (the <strong>exact</strong> name piece after <code class="xref any docutils literal notranslate"><span class="pre">&quot;STAMP_&quot;</span></code>), you should receive the original layout. An <strong>arbitrary text</strong> will not be changed to upper case, but be written in font “Times-Bold” as is, horizontally centered in <strong>one line</strong> and be shortened to fit. To get your text fully displayed, its length using <a class="reference internal" href="glossary.html#fontsize" title="fontsize"><code class="xref py py-data docutils literal notranslate"><span class="pre">fontsize</span></code></a> 20 must not exceed 190 points. So please make sure that the following inequality is true: <code class="xref any docutils literal notranslate"><span class="pre">pymupdf.get_text_length(text,</span> <span class="pre">fontname=&quot;tibo&quot;,</span> <span class="pre">fontsize=20)</span> <span class="pre">&lt;=</span> <span class="pre">190</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_rect">
<span class="sig-name descname"><span class="pre">set_rect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rect</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_rect" title="Link to this definition">¶</a></dt>
<dd><p>Change the rectangle of an annotation. The annotation can be moved around and both sides of the rectangle can be independently scaled. However, the annotation appearance will never get rotated, flipped or sheared. This method only affects certain annotation types <a class="footnote-reference brackets" href="#f2" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> and will lead to a message on Python’s <code class="xref any docutils literal notranslate"><span class="pre">sys.stderr</span></code> in other cases. No exception will be raised, but <code class="xref any docutils literal notranslate"><span class="pre">False</span></code> will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rect</strong> (<em>rect_like</em>) – the new rectangle of the annotation (finite and not empty). E.g. using a value of <em>annot.rect + (5, 5, 5, 5)</em> will shift the annot position 5 pixels to the right and downwards.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You <strong>need not</strong> invoke <a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update()</span></code></a> for activation of the effect.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_rotation">
<span class="sig-name descname"><span class="pre">set_rotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_rotation" title="Link to this definition">¶</a></dt>
<dd><p>Set the rotation of an annotation. This rotates the annotation rectangle around its center point. Then a <strong>new annotation rectangle</strong> is calculated from the resulting quad.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>angle</strong> (<em>int</em>) – rotation angle in degrees. Arbitrary values are possible, but will be clamped to the interval <code class="xref any docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">360)</span></code>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>You <strong>must invoke</strong> <a class="reference internal" href="#Annot.update" title="Annot.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update()</span></code></a> to activate the effect.</p></li>
<li><p>For PDF_ANNOT_FREE_TEXT, only one of the values 0, 90, 180 and 270 is possible and will <strong>rotate the text</strong> inside the current rectangle (which remains unchanged). Other values are silently ignored and replaced by 0.</p></li>
<li><p>Otherwise, only the following <a class="reference internal" href="vars.html#annotationtypes"><span class="std std-ref">Annotation Types</span></a> can be rotated: ‘Square’, ‘Circle’, ‘Caret’, ‘Text’, ‘FileAttachment’, ‘Ink’, ‘Line’, ‘Polyline’, ‘Polygon’, and ‘Stamp’. For all others the method is a no-op.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_border">
<span class="sig-name descname"><span class="pre">set_border</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dashes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clouds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_border" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>Changed in version 1.16.9: Allow specification without using a dictionary. The direct parameters are used if <em>border</em> is not a dictionary.</p></li>
<li><p>Changed in version 1.22.5: Support of the “cloudy” border effect.</p></li>
</ul>
<p>PDF only: Change border width, dashing, style and cloud effect. See the <a class="reference internal" href="#Annot.border" title="Annot.border"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Annot.border</span></code></a> attribute for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>border</strong> (<em>dict</em>) – a dictionary as returned by the <a class="reference internal" href="#Annot.border" title="Annot.border"><code class="xref py py-attr docutils literal notranslate"><span class="pre">border</span></code></a> property, with keys <em>“width”</em> (<em>float</em>), <em>“style”</em> (<em>str</em>),  <em>“dashes”</em> (<em>sequence</em>) and <em>clouds</em> (<em>int</em>). Omitted keys will leave the resp. property unchanged. Set the border argument to <code class="xref any docutils literal notranslate"><span class="pre">None</span></code> (the default) to use the other arguments.</p></li>
<li><p><strong>width</strong> (<em>float</em>) – A non-negative value will change the border line width.</p></li>
<li><p><strong>style</strong> (<em>str</em>) – A value other than <code class="xref any docutils literal notranslate"><span class="pre">None</span></code> will change this border property.</p></li>
<li><p><strong>dashes</strong> (<em>sequence</em>) – All items of the sequence must be integers, otherwise the parameter is ignored. To remove dashing use: <code class="xref any docutils literal notranslate"><span class="pre">dashes=[]</span></code>. If dashes is a non-empty sequence, “style” will automatically be set to “D” (dashed).</p></li>
<li><p><strong>clouds</strong> (<em>int</em>) – A value &gt;= 0 will change this property. Use <code class="xref any docutils literal notranslate"><span class="pre">clouds=0</span></code> to remove the cloudy appearance completely. Only annotation types ‘Square’, ‘Circle’, and ‘Polygon’ are supported with this property.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_flags">
<span class="sig-name descname"><span class="pre">set_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flags</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_flags" title="Link to this definition">¶</a></dt>
<dd><p>Changes the annotation flags. Use the <code class="xref any docutils literal notranslate"><span class="pre">|</span></code> operator to combine several.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>flags</strong> (<em>int</em>) – an integer specifying the required flags.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.set_colors">
<span class="sig-name descname"><span class="pre">set_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.set_colors" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>Changed in version 1.16.9: Allow colors to be directly set. These parameters are used if <em>colors</em> is not a dictionary.</p></li>
</ul>
<p>Changes the “stroke” and “fill” colors for supported annotation types – not all annotations accept both.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colors</strong> (<em>dict</em>) – a dictionary containing color specifications. For accepted dictionary keys and values see below. The most practical way should be to first make a copy of the <em>colors</em> property and then modify this dictionary as required.</p></li>
<li><p><strong>stroke</strong> (<em>sequence</em>) – see above.</p></li>
<li><p><strong>fill</strong> (<em>sequence</em>) – see above.</p></li>
</ul>
</dd>
</dl>
<p><em>Changed in v1.18.5:</em> To completely remove a color specification, use an empty sequence like <code class="xref any docutils literal notranslate"><span class="pre">[]</span></code>. If you specify <code class="xref any docutils literal notranslate"><span class="pre">None</span></code>, an existing specification will not be changed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.delete_responses">
<span class="sig-name descname"><span class="pre">delete_responses</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Annot.delete_responses" title="Link to this definition">¶</a></dt>
<dd><ul class="simple">
<li><p>New in version 1.16.12</p></li>
</ul>
<p>Delete annotations referring to this one. This includes any ‘Popup’ annotations and all annotations responding to it.</p>
</dd></dl>

<dl class="py method" id="index-2">
<dt class="sig sig-object py" id="Annot.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blend_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.update" title="Link to this definition">¶</a></dt>
<dd><p>Synchronize the appearance of an annotation with its properties after relevant changes.</p>
<p>You can safely <strong>omit</strong> this method <strong>only</strong> for the following changes:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#Annot.set_rect" title="Annot.set_rect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_rect()</span></code></a></p></li>
<li><p><a class="reference internal" href="#Annot.set_flags" title="Annot.set_flags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_flags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#Annot.set_oc" title="Annot.set_oc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_oc()</span></code></a></p></li>
<li><p><a class="reference internal" href="#Annot.update_file" title="Annot.update_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.update_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#Annot.set_info" title="Annot.set_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_info()</span></code></a> (except any changes to <em>“content”</em>)</p></li>
</ul>
</div></blockquote>
<p>All arguments are optional. <em>(Changed in v1.16.14)</em> Blend mode and opacity are applicable to <strong>all annotation types</strong>. The other arguments are mostly special use, as described below.</p>
<p>Color specifications may be made in the usual format used in PuMuPDF as sequences of floats ranging from 0.0 to 1.0 (including both). The sequence length must be 1, 3 or 4 (supporting GRAY, RGB and CMYK colorspaces respectively). For GRAY, just a float is also acceptable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opacity</strong> (<em>float</em>) – <em>(new in v1.16.14)</em> <strong>valid for all annotation types:</strong> change or set the annotation’s transparency. Valid values are <em>0 &lt;= opacity &lt; 1</em>.</p></li>
<li><p><strong>blend_mode</strong> (<em>str</em>) – <em>(new in v1.16.14)</em> <strong>valid for all annotation types:</strong> change or set the annotation’s blend mode. For valid values see <a class="reference internal" href="vars.html#blendmodes"><span class="std std-ref">PDF Standard Blend Modes</span></a>.</p></li>
<li><p><strong>fontsize</strong> (<em>float</em>) – change <a class="reference internal" href="glossary.html#fontsize" title="fontsize"><code class="xref py py-data docutils literal notranslate"><span class="pre">fontsize</span></code></a> of the text. ‘FreeText’ annotations only.</p></li>
<li><p><strong>text_color</strong> (<em>sequence</em><em>,</em><em>float</em>) – change the text color. ‘FreeText’ annotations only.</p></li>
<li><p><strong>border_color</strong> (<em>sequence</em><em>,</em><em>float</em>) – change the border color. ‘FreeText’ annotations only.</p></li>
<li><p><strong>fill_color</strong> (<em>sequence</em><em>,</em><em>float</em>) – <p>the fill color.</p>
<ul>
<li><p>’Line’, ‘Polyline’, ‘Polygon’ annotations: use it to give applicable line end symbols a fill color other than that of the annotation <em>(changed in v1.16.16)</em>.</p></li>
</ul>
</p></li>
<li><p><strong>cross_out</strong> (<em>bool</em>) – <em>(new in v1.17.2)</em> add two diagonal lines to the annotation rectangle. ‘Redact’ annotations only. If not desired, <em>False</em> must be specified even if the annotation was created with <em>False</em>.</p></li>
<li><p><strong>rotate</strong> (<em>int</em>) – new rotation value. Default (-1) means no change. Supports ‘FreeText’ and several other annotation types (see <a class="reference internal" href="#Annot.set_rotation" title="Annot.set_rotation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_rotation()</span></code></a>), <a class="footnote-reference brackets" href="#f1" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. Only choose 0, 90, 180, or 270 degrees for ‘FreeText’. Otherwise any integer is acceptable.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using this method inside a <a class="reference internal" href="page.html#Page.annots" title="Page.annots"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Page.annots()</span></code></a> loop is <strong>not recommended!</strong> This is because most annotation updates require the owning page to be reloaded – which cannot be done inside this loop. Please use the example coding pattern given in the documentation of this generator.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.file_info">
<span class="sig-name descname"><span class="pre">file_info</span></span><a class="headerlink" href="#Annot.file_info" title="Link to this definition">¶</a></dt>
<dd><p>Basic information of the annot’s attached file.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a dictionary with keys <em>filename</em>, <em>ufilename</em>, <em>desc</em> (description), <em>size</em> (uncompressed file size), <em>length</em> (compressed length) for FileAttachment annot types, else <em>None</em>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.get_file">
<span class="sig-name descname"><span class="pre">get_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Annot.get_file" title="Link to this definition">¶</a></dt>
<dd><p>Returns attached file content.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the content of the attached file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method" id="index-3">
<dt class="sig sig-object py" id="Annot.update_file">
<span class="sig-name descname"><span class="pre">update_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ufilename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Annot.update_file" title="Link to this definition">¶</a></dt>
<dd><p>Updates the content of an attached file. All arguments are optional. No arguments lead to a no-op.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffer</strong> (<em>bytes</em><em>|</em><em>bytearray</em><em>|</em><em>BytesIO</em>) – <p>the new file content. Omit to only change meta-information.</p>
<p><em>(Changed in version 1.14.13)</em> <em>io.BytesIO</em> is now also supported.</p>
</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – new filename to associate with the file.</p></li>
<li><p><strong>ufilename</strong> (<em>str</em>) – new unicode filename to associate with the file.</p></li>
<li><p><strong>desc</strong> (<em>str</em>) – new description of the file content.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Annot.get_sound">
<span class="sig-name descname"><span class="pre">get_sound</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Annot.get_sound" title="Link to this definition">¶</a></dt>
<dd><p>Return the embedded sound of an audio annotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>the sound audio file and accompanying properties. These are the possible dictionary keys, of which only “rate” and “stream” are always present.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rate</p></td>
<td><p>(float, requ.) samples per second</p></td>
</tr>
<tr class="row-odd"><td><p>channels</p></td>
<td><p>(int, opt.) number of sound channels</p></td>
</tr>
<tr class="row-even"><td><p>bps</p></td>
<td><p>(int, opt.) bits per sample value per channel</p></td>
</tr>
<tr class="row-odd"><td><p>encoding</p></td>
<td><p>(str, opt.) encoding format: Raw, Signed, muLaw, ALaw</p></td>
</tr>
<tr class="row-even"><td><p>compression</p></td>
<td><p>(str, opt.) name of compression filter</p></td>
</tr>
<tr class="row-odd"><td><p>stream</p></td>
<td><p>(bytes, requ.) the sound file content</p></td>
</tr>
</tbody>
</table>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.opacity">
<span class="sig-name descname"><span class="pre">opacity</span></span><a class="headerlink" href="#Annot.opacity" title="Link to this definition">¶</a></dt>
<dd><p>The annotation’s transparency. If set, it is a value in range <em>[0, 1]</em>. The PDF default is 1. However, in an effort to tell the difference, we return <em>-1.0</em> if not set.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.parent">
<span class="sig-name descname"><span class="pre">parent</span></span><a class="headerlink" href="#Annot.parent" title="Link to this definition">¶</a></dt>
<dd><p>The owning page object of the annotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="page.html#page"><span class="std std-ref">Page</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.rotation">
<span class="sig-name descname"><span class="pre">rotation</span></span><a class="headerlink" href="#Annot.rotation" title="Link to this definition">¶</a></dt>
<dd><p>The annot rotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a value [-1, 359]. If rotation is not at all, -1 is returned (and implies a rotation angle of 0). Other possible values are normalized to some value value 0 &lt;= angle &lt; 360.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.rect">
<span class="sig-name descname"><span class="pre">rect</span></span><a class="headerlink" href="#Annot.rect" title="Link to this definition">¶</a></dt>
<dd><p>The rectangle containing the annotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="rect.html#rect"><span class="std std-ref">Rect</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.next">
<span class="sig-name descname"><span class="pre">next</span></span><a class="headerlink" href="#Annot.next" title="Link to this definition">¶</a></dt>
<dd><p>The next annotation on this page or None.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Annot</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.type">
<span class="sig-name descname"><span class="pre">type</span></span><a class="headerlink" href="#Annot.type" title="Link to this definition">¶</a></dt>
<dd><p>A number and one or two strings describing the annotation type, like <strong>[2, ‘FreeText’, ‘FreeTextCallout’]</strong>. The second string entry is optional and may be empty. See the appendix <a class="reference internal" href="vars.html#annotationtypes"><span class="std std-ref">Annotation Types</span></a> for a list of possible values and their meanings.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.info">
<span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#Annot.info" title="Link to this definition">¶</a></dt>
<dd><p>A dictionary containing various information. All fields are optional strings. For information items not provided, an empty string is returned.</p>
<ul class="simple">
<li><p><em>name</em> – e.g. for ‘Stamp’ annotations it will contain the stamp text like “Sold” or “Experimental”, for other annot types you will see the name of the annot’s icon here (“PushPin” for FileAttachment).</p></li>
<li><p><em>content</em> – a string containing the text for type <em>Text</em> and <em>FreeText</em> annotations. Commonly used for filling the text field of annotation pop-up windows.</p></li>
<li><p><em>title</em> – a string containing the title of the annotation pop-up window. By convention, this is used for the <strong>annotation author</strong>.</p></li>
<li><p><em>creationDate</em> – creation timestamp.</p></li>
<li><p><em>modDate</em> – last modified timestamp.</p></li>
<li><p><em>subject</em> – subject.</p></li>
<li><p><em>id</em> – <em>(new in version 1.16.10)</em> a unique identification of the annotation. This is taken from PDF key <em>/NM</em>. Annotations added by PyMuPDF will have a unique name, which appears here.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.flags">
<span class="sig-name descname"><span class="pre">flags</span></span><a class="headerlink" href="#Annot.flags" title="Link to this definition">¶</a></dt>
<dd><p>An integer whose low order bits contain flags for how the annotation should be presented.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.line_ends">
<span class="sig-name descname"><span class="pre">line_ends</span></span><a class="headerlink" href="#Annot.line_ends" title="Link to this definition">¶</a></dt>
<dd><p>A pair of integers specifying start and end symbol of annotations types ‘FreeText’, ‘Line’, ‘PolyLine’, and ‘Polygon’. <em>None</em> if not applicable. For possible values and descriptions in this list, see the <a class="reference internal" href="app3.html#adobemanual"><span class="std std-ref">Adobe PDF References</span></a>, table 1.76 on page 400.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.vertices">
<span class="sig-name descname"><span class="pre">vertices</span></span><a class="headerlink" href="#Annot.vertices" title="Link to this definition">¶</a></dt>
<dd><p>A list containing a variable number of point (“vertices”) coordinates (each given by a pair of floats) for various types of annotations:</p>
<ul class="simple">
<li><p>‘Line’ – the starting and ending coordinates (2 float pairs).</p></li>
<li><p>‘FreeText’ – 2 or 3 float pairs designating the starting, the (optional) knee point, and the ending coordinates.</p></li>
<li><p>‘PolyLine’ / ‘Polygon’ – the coordinates of the edges connected by line pieces (n float pairs for n points).</p></li>
<li><p>text markup annotations – 4 float pairs specifying the <em>QuadPoints</em> of the marked text span (see <a class="reference internal" href="app3.html#adobemanual"><span class="std std-ref">Adobe PDF References</span></a>, page 403).</p></li>
<li><p>‘Ink’ – list of one to many sublists of vertex coordinates. Each such sublist represents a separate line in the drawing.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.colors">
<span class="sig-name descname"><span class="pre">colors</span></span><a class="headerlink" href="#Annot.colors" title="Link to this definition">¶</a></dt>
<dd><p>dictionary of two lists of floats in range <em>0 &lt;= float &lt;= 1</em> specifying the “stroke” and the interior (“fill”) colors. The stroke color is used for borders and everything that is actively painted or written (“stroked”). The fill color is used for the interior of objects like line ends, circles and squares. The lengths of these lists implicitly determine the colorspaces used: 1 = GRAY, 3 = RGB, 4 = CMYK. So “[1.0, 0.0, 0.0]” stands for RGB color red. Both lists can be empty if no color is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.xref">
<span class="sig-name descname"><span class="pre">xref</span></span><a class="headerlink" href="#Annot.xref" title="Link to this definition">¶</a></dt>
<dd><p>The PDF <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.irt_xref">
<span class="sig-name descname"><span class="pre">irt_xref</span></span><a class="headerlink" href="#Annot.irt_xref" title="Link to this definition">¶</a></dt>
<dd><p>The PDF <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> of an annotation to which this one responds. Return zero if this is no response annotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.popup_xref">
<span class="sig-name descname"><span class="pre">popup_xref</span></span><a class="headerlink" href="#Annot.popup_xref" title="Link to this definition">¶</a></dt>
<dd><p>The PDF <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> of the associated Popup annotation. Zero if non-existent.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.has_popup">
<span class="sig-name descname"><span class="pre">has_popup</span></span><a class="headerlink" href="#Annot.has_popup" title="Link to this definition">¶</a></dt>
<dd><p>Whether the annotation has a Popup annotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.is_open">
<span class="sig-name descname"><span class="pre">is_open</span></span><a class="headerlink" href="#Annot.is_open" title="Link to this definition">¶</a></dt>
<dd><p>Whether the annotation’s Popup is open – <strong>or</strong> the annotation itself (‘Text’ annotations only).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.popup_rect">
<span class="sig-name descname"><span class="pre">popup_rect</span></span><a class="headerlink" href="#Annot.popup_rect" title="Link to this definition">¶</a></dt>
<dd><p>The rectangle of the associated Popup annotation. Infinite rectangle if non-existent.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="rect.html#rect"><span class="std std-ref">Rect</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.rect_delta">
<span class="sig-name descname"><span class="pre">rect_delta</span></span><a class="headerlink" href="#Annot.rect_delta" title="Link to this definition">¶</a></dt>
<dd><p>A tuple of four floats representing the <code class="xref any docutils literal notranslate"><span class="pre">/RD</span></code> entry of the annotation. The four numbers describe the numerical differences (left, top, -right, -bottom) between two rectangles: the <a class="reference internal" href="#Annot.rect" title="Annot.rect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rect</span></code></a> of the annotation and a rectangle contained within that rectangle. If the entry is missing, this property is <code class="xref any docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0)</span></code>. If the annotation border is a normal, straight line, these numbers are typically border width divided by 2. If the annotation has a “cloudy” border, you will see the breadth of the cloud semi-circles here. In general, the numbers need not be identical. To compute the inner rectangle do <code class="xref any docutils literal notranslate"><span class="pre">a.rect</span> <span class="pre">+</span> <span class="pre">a.rect_delta</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Annot.border">
<span class="sig-name descname"><span class="pre">border</span></span><a class="headerlink" href="#Annot.border" title="Link to this definition">¶</a></dt>
<dd><p>A dictionary containing border characteristics. Empty if no border information exists. The following keys may be present:</p>
<ul class="simple">
<li><p><em>width</em> – a float indicating the border thickness in points. The value is -1.0 if no width is specified.</p></li>
<li><p><em>dashes</em> – a sequence of integers specifying a line dashing pattern. <em>[]</em> means no dashes, <em>[n]</em> means equal on-off lengths of <em>n</em> points, longer lists will be interpreted as specifying alternating on-off length values. See the <a class="reference internal" href="app3.html#adobemanual"><span class="std std-ref">Adobe PDF References</span></a> page 126 for more details.</p></li>
<li><p><em>style</em> – 1-byte border style: <strong>“S”</strong> (Solid) = solid line surrounding the annotation, <strong>“D”</strong> (Dashed) = dashed line surrounding the annotation, the dash pattern is specified by the <em>dashes</em> entry, <strong>“B”</strong> (Beveled) = a simulated embossed rectangle that appears to be raised above the surface of the page, <strong>“I”</strong> (Inset) = a simulated engraved rectangle that appears to be recessed below the surface of the page, <strong>“U”</strong> (Underline) = a single line along the bottom of the annotation rectangle.</p></li>
<li><p><em>clouds</em> – an integer indicating a “cloudy” border, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is an integer <code class="xref any docutils literal notranslate"><span class="pre">-1</span> <span class="pre">&lt;=</span> <span class="pre">n</span> <span class="pre">&lt;=</span> <span class="pre">2</span></code>. A value <code class="xref any docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">0</span></code> indicates a straight line (no clouds), 1 means small and 2 means large semi-circles, mimicking the cloudy appearance. If -1, then no specification is present.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="annotation-icons-in-mupdf">
<span id="mupdficons"></span><h2>Annotation Icons in MuPDF<a class="headerlink" href="#annotation-icons-in-mupdf" title="Link to this heading">¶</a></h2>
<p>This is a list of icons referenceable by name for annotation types ‘Text’ and ‘FileAttachment’. You can use them via the <em>icon</em> parameter when adding an annotation, or use the as argument in <a class="reference internal" href="#Annot.set_name" title="Annot.set_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_name()</span></code></a>. It is left to your discretion which item to choose when – no mechanism will keep you from using e.g. the “Speaker” icon for a ‘FileAttachment’.</p>
<img alt="_images/mupdf-icons.jpg" src="_images/mupdf-icons.jpg" />
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h2>
<p>Change the graphical image of an annotation. Also update the “author” and the text to be shown in the popup window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">pymupdf</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;circle-in.pdf&quot;</span><span class="p">)</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">doc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                          <span class="c1"># page 0</span>
<span class="n">annot</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">first_annot</span>                <span class="c1"># get the annotation</span>
<span class="n">annot</span><span class="o">.</span><span class="n">set_border</span><span class="p">(</span><span class="n">dashes</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>           <span class="c1"># set dashes to &quot;3 on, 3 off ...&quot;</span>

<span class="c1"># set stroke and fill color to some blue</span>
<span class="n">annot</span><span class="o">.</span><span class="n">set_colors</span><span class="p">({</span><span class="s2">&quot;stroke&quot;</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;fill&quot;</span><span class="p">:(</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">)})</span>
<span class="n">info</span> <span class="o">=</span> <span class="n">annot</span><span class="o">.</span><span class="n">info</span>                      <span class="c1"># get info dict</span>
<span class="n">info</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Jorj X. McKie&quot;</span>        <span class="c1"># set author</span>

<span class="c1"># text in popup window ...</span>
<span class="n">info</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;I changed border and colors and enlarged the image by 20%.&quot;</span>
<span class="n">info</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Demonstration of PyMuPDF&quot;</span>     <span class="c1"># some PDF viewers also show this</span>
<span class="n">annot</span><span class="o">.</span><span class="n">set_info</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>                   <span class="c1"># update info dict</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">annot</span><span class="o">.</span><span class="n">rect</span>                         <span class="c1"># take annot rect</span>
<span class="n">r</span><span class="o">.</span><span class="n">x1</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">x0</span> <span class="o">+</span> <span class="n">r</span><span class="o">.</span><span class="n">width</span>  <span class="o">*</span> <span class="mf">1.2</span>           <span class="c1"># new location has same top-left</span>
<span class="n">r</span><span class="o">.</span><span class="n">y1</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">y0</span> <span class="o">+</span> <span class="n">r</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="mf">1.2</span>           <span class="c1"># but 20% longer sides</span>
<span class="n">annot</span><span class="o">.</span><span class="n">set_rect</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>                      <span class="c1"># update rectangle</span>
<span class="n">annot</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>                         <span class="c1"># update the annot&#39;s appearance</span>
<span class="n">doc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;circle-out.pdf&quot;</span><span class="p">)</span>             <span class="c1"># save</span>
</pre></div>
</div>
<p>This is how the circle annotation looks like before and after the change (pop-up windows displayed using Nitro PDF viewer):</p>
<p><img alt="circle" src="_images/img-circle.png" /></p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">1</a><span class="fn-bracket">]</span></span>
<p>Rotating an annotation also changes its rectangle. Depending on how the annotation was defined, the original rectangle is <strong>cannot be reconstructed</strong> by setting the rotation value to zero again and will be lost.</p>
</aside>
<aside class="footnote brackets" id="f2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Only the following annotation types support method <a class="reference internal" href="#Annot.set_rect" title="Annot.set_rect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Annot.set_rect()</span></code></a>: Text, FreeText, Square, Circle, Redact, Stamp, Caret, FileAttachment, Sound, and Movie.</p>
</aside>
</aside>
<div class="feedbackLink"><a id="feedbackLinkBottom" target=_blank>Do you have any feedback on this page?</b></a></div><hr class="docutils" />
<script>

   var url_string = window.location.href;
   var a = document.getElementById('feedbackLinkBottom');
   a.setAttribute("href", "https://artifex.com/contributor/feedback.php?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link&url="+url_string);

</script>

<p style="color:#999" id="footerDisclaimer">This software is provided AS-IS with no warranty, either express or implied. This software is distributed under license and may not be copied, modified or distributed except as expressly authorized under the terms of that license. Refer to licensing information at <a href="https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link">artifex.com</a> or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA 94129, United States for further information.</p>



<script>

   let docLanguage = document.getElementsByTagName('html')[0].getAttribute('lang');

   function getHeaderAndFooterTranslation(str) {
       if (docLanguage == "ja") {
           if (str == "Do you have any feedback on this page?") {
               return "このページに関するご意見はありますか？";
           } else if (str == "Find <b>#pymupdf</b> on <b>Discord</b>") {
               return "<b>Discord</b>の <b>#pymupdf</b> を見つける";
           } else if (str == "This software is provided AS-IS with no warranty, either express or implied. This software is distributed under license and may not be copied, modified or distributed except as expressly authorized under the terms of that license. Refer to licensing information at <a href='https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link'>artifex.com</a> or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA 94129, United States for further information.") {

               return "このソフトウェアは無保証で提供されており、明示または黙示を問わず、いかなる保証もありません。このソフトウェアはライセンスの下で配布され、ライセンスの条件に明示的に許可されている場合を除き、コピー、変更、または配布してはなりません。ライセンシング情報については、<a href='https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link'>artifex.com</a>でライセンス情報を参照するか、アメリカ合衆国カリフォルニア州サンフランシスコのArtifex Software Inc. までお問い合わせください。"

           }
       }

       return str;
   }

   document.getElementById("findOnDiscord").innerHTML = getHeaderAndFooterTranslation("Find <b>#pymupdf</b> on <b>Discord</b>");
   document.getElementById("feedbackLinkTop").innerHTML = getHeaderAndFooterTranslation("Do you have any feedback on this page?");
   document.getElementById("feedbackLinkBottom").innerHTML = getHeaderAndFooterTranslation("Do you have any feedback on this page?");
   document.getElementById("footerDisclaimer").innerHTML = getHeaderAndFooterTranslation("This software is provided AS-IS with no warranty, either express or implied. This software is distributed under license and may not be copied, modified or distributed except as expressly authorized under the terms of that license. Refer to licensing information at <a href='https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link'>artifex.com</a> or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA 94129, United States for further information.");


   // more translation for admonition-title as the in-built translation isn't great, needs: 注釈 -> 注
   if (docLanguage == "ja") {
       const collection = document.getElementsByClassName("admonition-title");
       for (var i=0;i<collection.length;i++) {
           collection[i].innerHTML = "注";
       }
   }


</script><p class="footer-version">This documentation covers all versions up to 1.25.3.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="archive-class.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Archive</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="classes.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Classes</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2015-2025, Artifex
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 10. Mar 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Annot</a><ul>
<li><a class="reference internal" href="#Annot"><code class="docutils literal notranslate"><span class="pre">Annot</span></code></a><ul>
<li><a class="reference internal" href="#Annot.get_pixmap"><code class="docutils literal notranslate"><span class="pre">Annot.get_pixmap()</span></code></a></li>
<li><a class="reference internal" href="#Annot.get_text"><code class="docutils literal notranslate"><span class="pre">Annot.get_text()</span></code></a></li>
<li><a class="reference internal" href="#Annot.get_textbox"><code class="docutils literal notranslate"><span class="pre">Annot.get_textbox()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_info"><code class="docutils literal notranslate"><span class="pre">Annot.set_info()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_line_ends"><code class="docutils literal notranslate"><span class="pre">Annot.set_line_ends()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_oc"><code class="docutils literal notranslate"><span class="pre">Annot.set_oc()</span></code></a></li>
<li><a class="reference internal" href="#Annot.get_oc"><code class="docutils literal notranslate"><span class="pre">Annot.get_oc()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_irt_xref"><code class="docutils literal notranslate"><span class="pre">Annot.set_irt_xref()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_open"><code class="docutils literal notranslate"><span class="pre">Annot.set_open()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_popup"><code class="docutils literal notranslate"><span class="pre">Annot.set_popup()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_opacity"><code class="docutils literal notranslate"><span class="pre">Annot.set_opacity()</span></code></a></li>
<li><a class="reference internal" href="#Annot.blendmode"><code class="docutils literal notranslate"><span class="pre">Annot.blendmode</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_blendmode"><code class="docutils literal notranslate"><span class="pre">Annot.set_blendmode()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_name"><code class="docutils literal notranslate"><span class="pre">Annot.set_name()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_rect"><code class="docutils literal notranslate"><span class="pre">Annot.set_rect()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_rotation"><code class="docutils literal notranslate"><span class="pre">Annot.set_rotation()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_border"><code class="docutils literal notranslate"><span class="pre">Annot.set_border()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_flags"><code class="docutils literal notranslate"><span class="pre">Annot.set_flags()</span></code></a></li>
<li><a class="reference internal" href="#Annot.set_colors"><code class="docutils literal notranslate"><span class="pre">Annot.set_colors()</span></code></a></li>
<li><a class="reference internal" href="#Annot.delete_responses"><code class="docutils literal notranslate"><span class="pre">Annot.delete_responses()</span></code></a></li>
<li><a class="reference internal" href="#Annot.update"><code class="docutils literal notranslate"><span class="pre">Annot.update()</span></code></a></li>
<li><a class="reference internal" href="#Annot.file_info"><code class="docutils literal notranslate"><span class="pre">Annot.file_info</span></code></a></li>
<li><a class="reference internal" href="#Annot.get_file"><code class="docutils literal notranslate"><span class="pre">Annot.get_file()</span></code></a></li>
<li><a class="reference internal" href="#Annot.update_file"><code class="docutils literal notranslate"><span class="pre">Annot.update_file()</span></code></a></li>
<li><a class="reference internal" href="#Annot.get_sound"><code class="docutils literal notranslate"><span class="pre">Annot.get_sound()</span></code></a></li>
<li><a class="reference internal" href="#Annot.opacity"><code class="docutils literal notranslate"><span class="pre">Annot.opacity</span></code></a></li>
<li><a class="reference internal" href="#Annot.parent"><code class="docutils literal notranslate"><span class="pre">Annot.parent</span></code></a></li>
<li><a class="reference internal" href="#Annot.rotation"><code class="docutils literal notranslate"><span class="pre">Annot.rotation</span></code></a></li>
<li><a class="reference internal" href="#Annot.rect"><code class="docutils literal notranslate"><span class="pre">Annot.rect</span></code></a></li>
<li><a class="reference internal" href="#Annot.next"><code class="docutils literal notranslate"><span class="pre">Annot.next</span></code></a></li>
<li><a class="reference internal" href="#Annot.type"><code class="docutils literal notranslate"><span class="pre">Annot.type</span></code></a></li>
<li><a class="reference internal" href="#Annot.info"><code class="docutils literal notranslate"><span class="pre">Annot.info</span></code></a></li>
<li><a class="reference internal" href="#Annot.flags"><code class="docutils literal notranslate"><span class="pre">Annot.flags</span></code></a></li>
<li><a class="reference internal" href="#Annot.line_ends"><code class="docutils literal notranslate"><span class="pre">Annot.line_ends</span></code></a></li>
<li><a class="reference internal" href="#Annot.vertices"><code class="docutils literal notranslate"><span class="pre">Annot.vertices</span></code></a></li>
<li><a class="reference internal" href="#Annot.colors"><code class="docutils literal notranslate"><span class="pre">Annot.colors</span></code></a></li>
<li><a class="reference internal" href="#Annot.xref"><code class="docutils literal notranslate"><span class="pre">Annot.xref</span></code></a></li>
<li><a class="reference internal" href="#Annot.irt_xref"><code class="docutils literal notranslate"><span class="pre">Annot.irt_xref</span></code></a></li>
<li><a class="reference internal" href="#Annot.popup_xref"><code class="docutils literal notranslate"><span class="pre">Annot.popup_xref</span></code></a></li>
<li><a class="reference internal" href="#Annot.has_popup"><code class="docutils literal notranslate"><span class="pre">Annot.has_popup</span></code></a></li>
<li><a class="reference internal" href="#Annot.is_open"><code class="docutils literal notranslate"><span class="pre">Annot.is_open</span></code></a></li>
<li><a class="reference internal" href="#Annot.popup_rect"><code class="docutils literal notranslate"><span class="pre">Annot.popup_rect</span></code></a></li>
<li><a class="reference internal" href="#Annot.rect_delta"><code class="docutils literal notranslate"><span class="pre">Annot.rect_delta</span></code></a></li>
<li><a class="reference internal" href="#Annot.border"><code class="docutils literal notranslate"><span class="pre">Annot.border</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#annotation-icons-in-mupdf">Annotation Icons in MuPDF</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=9ddcf537"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>